<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LegalEagle</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:200,300,400,700,900|Oswald:400,700"> 
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/icomoon/style.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/magnific-popup.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.theme.default.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-datepicker.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mediaelementplayer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animate.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/flaticon/font/flaticon.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fl-bigmug-line.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/aos.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
.custom-modal-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.custom-modal-overlay.show {
  opacity: 1;
  visibility: visible;
}

.custom-modal {
  background: #fff;
  border-radius: 16px;
  width: 90%;
  max-width: 420px;
  padding: 2rem;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  text-align: center;
  animation: fadeInUp 0.3s ease;
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(25px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.custom-modal-icon {
  font-size: 2.8rem;
  color: #ce902b;
  margin-bottom: 1rem;
}

.custom-modal-title {
  font-size: 1.7rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  color: #1a2a3a;
}

.custom-modal-body {
  font-size: 1rem;
  color: #555;
  margin-bottom: 1.8rem;
}

.custom-modal-btn {
  background: #1a2a3a;
  color: white;
  padding: 0.6rem 1.4rem;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.custom-modal-btn:hover {
  background: #ce902b;
  color: #1a2a3a;
}
</style>
  </head>
  <body>
<!-- Welcome Modal -->
<div class="custom-modal-overlay" id="welcomeModal">
  <div class="custom-modal">
    <div class="custom-modal-header">
      <div class="custom-modal-icon"><i class="fas fa-handshake"></i></div>
      <h3 class="custom-modal-title">Welcome, Lawyer!</h3>
    </div>
    <div class="custom-modal-body">
      <p>You‚Äôre successfully logged in to LegalEagle AI.</p>
    </div>
    <div class="custom-modal-footer">
      <button class="custom-modal-btn" id="welcomeModalClose">Get Started</button>
    </div>
  </div>
</div>

<!-- Logout Modal -->
<div class="custom-modal-overlay" id="logoutModal">
  <div class="custom-modal">
    <div class="custom-modal-header">
      <div class="custom-modal-icon"><i class="fas fa-sign-out-alt"></i></div>
      <h3 class="custom-modal-title">Logged Out</h3>
    </div>
    <div class="custom-modal-body">
      <p>You have been successfully logged out.</p>
    </div>
    <div class="custom-modal-footer">
      <button class="custom-modal-btn" id="logoutModalClose">Close</button>
    </div>
  </div>
</div>

<!-- Profile Update Modal -->
<div class="custom-modal-overlay" id="profileUpdatedModal">
  <div class="custom-modal">
    <div class="custom-modal-header">
      <div class="custom-modal-icon"><i class="fas fa-check-circle"></i></div>
      <h3 class="custom-modal-title">Profile Updated</h3>
    </div>
    <div class="custom-modal-body">
      <p>Your profile was successfully updated.</p>
    </div>
    <div class="custom-modal-footer">
      <button class="custom-modal-btn" id="profileUpdatedModalClose">OK</button>
    </div>
  </div>
</div>

    <div class="site-navbar mt-4">
        <div class="row d-flex justify-content-between align-items-center" style="margin-left: 8% ; margin-right: 8%">
            <div class="col-auto">
                <h1 class="mb-0">
                    <a href="{{ url_for('index') }}" class="h2 mb-0" style="color: black;">
                        <strong>LegalEagle AI<span style="color: #ce902b;" >.</span></strong>
                    </a>
                </h1>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <input type="file" id="profilePicInput" accept="image/*" hidden>
            <img id="profilePic" class="profile-pic" src="static/images/default-avatar.png" alt="Profile Picture">
            <h2 id="lawyerName">Loading...</h2>
            <p id="lawyerEmail">Loading...</p>
            <p>Bar Council ID: <span id="barCouncilID">Loading...</span></p>
    
            <div class="sidebar-menu">
                <div class="menu-item" onclick="openEditProfile()">
                    <span>Edit Profile</span><span class="icon">‚úèÔ∏è</span>
                </div>
                <div class="menu-item" id="logout" >
                    <span>Logout</span><span class="icon">·ØìüèÉüèª‚Äç‚ôÄÔ∏è‚Äç‚û°Ô∏è</span>
                </div>
            </div>
            <!-- In the sidebar menu -->
            
            <!--<div class="menu-item" onclick="location.href='/lawyer'">
                <span>My Appointments</span><span class="icon">üìÖ</span>
            </div>-->  
            
            <button class="btn btn-primary" style="background-color: rgb(0, 41, 107);" onclick="location.href='{{ url_for('lawyer_appointment_detail') }}'">
                Case Tracking
            </button>           
        </div>
    
        <div class="main-content">
            <div class="content-section">
                <h3>Personal Information</h3>
                <div class="content-grid">
                    <div class="info-card">
                        <strong>Contact No.:</strong> 
                        <span id="displayContact">Not Provided</span>
                    </div>
                    <div class="info-card">
                        <strong>Address:</strong> 
                        <span id="displayAddress">Not Provided</span>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <h3>Information on Firm</h3>
                <div class="content-grid">
                <div class="info-card"><strong>Firm Name:</strong> <span id="displayFirmName">Not Provided</span></div>
                <div class="info-card"><strong>Firm Size:</strong> <span id="displayFirmSize">Not Provided</span></div>
                <div class="info-card"><strong>Affiliation:</strong> <span id="displayAffiliation">Not Provided</span></div>
                </div>
            <div class="content-section">
            <h3>Professional Information</h3>
            <div class="content-grid">
            <div class="info-card"><strong>Practice Area:</strong> <span id="displayPracticeArea">Not Provided</span></div>
            <div class="info-card"><strong>Designation:</strong> <span id="displayDesignation">Not Provided</span></div>
            <div class="info-card"><strong>Years of Experience:</strong> <span id="displayExperience">Not Provided</span></div>
            <div class="info-card"><strong>Successful Cases:</strong> <span id="displayCases">Not Provided</span></div>
            <div class="info-card"><strong>Nominal Fees:</strong> <span id="displayFees">Not Provided</span></div>
        </div>
    </div>
    
    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditProfile()">&times;</span>
            <form id="editProfileForm">
                <h3>Personal Information</h3>
                <label>Name:</label>
                <input type="text" id="lawyername" required>
                <label>Email:</label>
                <input type="email" id="lawyerEmail" disabled>
                <label>Contact No.:</label>
                <input type="text" id="contact">
                <label for="address">Location:</label>
                    <select id="address">
                    <option value="">-- Select Location --</option>
                    <option value="Ahmedabad">Ahmedabad</option>
                    <option value="Bangalore">Bangalore</option>
                    <option value="Chennai">Chennai</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Hyderabad">Hyderabad</option>
                    <option value="Jaipur">Jaipur</option>
                    <option value="Kolkata">Kolkata</option>
                    <option value="Lucknow">Lucknow</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Pune">Pune</option>
                    </select>
    
                <h3>Information on Firm</h3>
                <label>Firm Name:</label>
                <input type="text" id="firmName">
                <label>Firm Size:</label>
                <input type="text" id="firmSize">
                <label for="affiliation">Affiliation:</label>
                    <select id="affiliation">
                    <option value="">-- Select Affiliation --</option>
                    <option value="District Court">District Court</option>
                    <option value="Supreme Court of India">Supreme Court of India</option>
                    <option value="High Court">High Court</option>
                    <option value="Bar Council of India">Bar Council of India</option>
                    </select>
    
                <h3>Professional Information</h3>
                <label for="practiceArea">Practice Area:</label>
                    <select id="practiceArea">
                    <option value="">-- Select Practice Area --</option>
                    <option value="Banking & Finance Law">Banking & Finance Law</option>
                    <option value="Civil Litigation">Civil Litigation</option>
                    <option value="Constitutional Law">Constitutional Law</option>
                    <option value="Corporate Law">Corporate Law</option>
                    <option value="Criminal Law">Criminal Law</option>
                    <option value="Cyber Law">Cyber Law</option>
                    <option value="Employment & Labor Law">Employment & Labor Law</option>
                    <option value="Environmental Law">Environmental Law</option>
                    <option value="Family Law">Family Law</option>
                    <option value="Human Rights Law">Human Rights Law</option>
                    <option value="Immigration Law">Immigration Law</option>
                    <option value="Intellectual Property (IP) Law">Intellectual Property (IP) Law</option>
                    <option value="Personal Injury Law">Personal Injury Law</option>
                    <option value="Real Estate Law">Real Estate Law</option>
                    <option value="Tax Law">Tax Law</option>
                    </select>

                <label for="designation">Designation:</label>
                    <select id="designation">
                      <option value="Senior Associate">Senior Associate</option>
                      <option value="Legal Advisor">Legal Advisor</option>
                      <option value="Senior Advocate">Senior Advocate</option>
                      <option value="Independent Legal Consultant">Independent Legal Consultant</option>
                      <option value="Solicitor">Solicitor</option>
                      <option value="Advocate">Advocate</option>
                      <option value="Counsel">Counsel</option>
                      <option value="Legal Aid Lawyer">Legal Aid Lawyer</option>
                      <option value="Managing Partner">Managing Partner</option>
                      <option value="Managing Associate">Managing Associate</option>
                      <option value="Of Counsel">Of Counsel</option>
                      <option value="Non-Equity Partner">Non-Equity Partner</option>
                      <option value="Principal Associate">Principal Associate</option>
                      <option value="In-House Counsel">In-House Counsel</option>
                      <option value="Government Counsel">Government Counsel</option>
                      <option value="Junior Associate / Associate">Junior Associate / Associate</option>
                    </select>
                <label>Years of Experience:</label>
                <input type="number" id="experience">
                <label>Successful Cases:</label>
                <input type="number" id="cases">
                <label>Nominal Fees:</label>
                <input type="text" id="fees">
                
                <button type="submit">Save Changes</button>
            </form>
        </div>
    </div>

    <script type="module" src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
    <script>
        // After fetching or setting the lawyer's name dynamically
        const lawyerName = document.getElementById("lawyerName").innerText;
        if (lawyerName && lawyerName !== "Loading...") {
            localStorage.setItem("lawyerName", lawyerName);
        }
      const indexUrl = "{{ url_for('index') }}";
        window.firebaseConfig = {
            apiKey: "{{ firebase_api_key }}",
            authDomain: "{{ firebase_auth_domain }}",
            projectId: "{{ firebase_project_id }}",
            storageBucket: "{{ firebase_storage_bucket }}",
            messagingSenderId: "{{ firebase_messaging_sender_id }}",
            appId: "{{ firebase_app_id }}"
        };

    </script>
<script>
  // Welcome Modal (only once per session)
  window.addEventListener("DOMContentLoaded", () => {
    const welcomeModal = document.getElementById("welcomeModal");
    const logoutModal = document.getElementById("logoutModal");
    const profileUpdatedModal = document.getElementById("profileUpdatedModal");

    // Show Welcome once per session
    if (!sessionStorage.getItem("welcomeShown")) {
      welcomeModal.classList.add("show");
      sessionStorage.setItem("welcomeShown", "true");
    }

    document.getElementById("welcomeModalClose")?.addEventListener("click", () => {
      welcomeModal.classList.remove("show");
    });

    document.getElementById("logoutModalClose")?.addEventListener("click", () => {
      logoutModal.classList.remove("show");
      window.location.href = "/";
    });

    document.getElementById("profileUpdatedModalClose")?.addEventListener("click", () => {
      profileUpdatedModal.classList.remove("show");
    });
  });

  // Replace alert in dashboard.js with this:
  function showProfileUpdateSuccessModal() {
    document.getElementById("profileUpdatedModal").classList.add("show");
  }

  function showLogoutModal() {
    document.getElementById("logoutModal").classList.add("show");
  }
</script>


    <script type="module" src="{{ url_for('static', filename='js/firebase_Auth.js') }}"></script>   
    </body>
</html>